{% set version = "1.3.3" %}

package:
  name: sofia_redux
  version: {{ version }}

source:
  url: https://files.pythonhosted.org/packages/source/s/sofia-redux/sofia_redux-{{ version }}.tar.gz
  sha256: ed68da52cbfa802e368b148b68efc4f9bcbe78244f80593061df9c300b682d92

build:
  noarch: python
  entry_points:
    - redux_pipe=sofia_redux.pipeline.sofia.sofia_pipe:main
    - redux=sofia_redux.pipeline.sofia.sofia_app:main
    - qad=sofia_redux.pipeline.gui.qad.qad_app:main
    - pipecal_applyphot=sofia_redux.calibration.pipecal_applyphot:main
    - hawc_calibration=sofia_redux.calibration.standard_model.hawc_calibration:main
    - eospec=sofia_redux.visualization.controller:main
  script: {{ PYTHON }} -m pip install . --no-deps

requirements:
  build:
    - pip
    - python>=3.11
    - setuptools
    - setuptools_scm
  host:
    - pip
    - python>=3.11
  run:
    - python>=3.11
    - astropy>=6.0.0
    - astroquery>=0.4.6
    - bottleneck>=1.3.7
    - cloudpickle>=3.0.0
    - configobj>=5.0.8
    - cycler>=0.12.1
    - dill>=0.3.7
    - joblib>=1.3.2
    - matplotlib>=3.8.2
    - more-itertools>=10.2.0
    - numba>=0.58.1
    - numpy>=1.26.3
    - pandas>=2.2.0
    - photutils>=1.10.0
    - psutil>=5.9.8
    - regex>=2023.12.25
    - pyqt>=5.9.2
    - scikit-learn>1.4.0
    - scipy>=1.12.0

test:
  imports:
    - sofia_redux
  commands:
    - redux_pipe --help
    - redux --help
    - qad --help

about:
  home: https://sofia-usra.github.io/sofia_redux/
  dev_url: https://github.com/SOFIA-USRA/sofia_redux
  license: BSD-3-Clause
  summary: 'SOFIA data reduction pipelines'
  description: |
    SOFIA Redux (sofia_redux) contains data processing pipelines and
    algorithms for instruments on the Stratospheric Observatory for
    Infrared Astronomy (SOFIA).
